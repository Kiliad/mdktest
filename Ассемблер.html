<!DOCTYPE html>
<html>
<link href="style.css" rel="stylesheet" type="text/css">
<link href="zoom.css" rel="stylesheet" type="text/css">
<meta charset="utf-8">
	<head>
		<link rel="shortcut icon" href="Multimedia/prosessor.ico" type="image/x-icon">
	</head>
	<title>Ассемблер</title>
		<body class="assembler">
		<article>
  <header>
    <h1 class="shadowtext">Ассемблер</h1>
      </font>
	<a href="index.html" class="button">Главная</a>	</font>
     </header>
</article>
<div class="div">
	<p>Язы́к ассе́мблера (англ. assembly language) — машинно-ориентированный язык программирования низкого уровня. Представляет собой систему обозначений, используемую для представления в удобно читаемой форме программ, записанных в машинном коде. Его команды прямо соответствуют отдельным командам машины или их последовательностям. Является существенно платформо-зависимым: языки ассемблера для различных аппаратных платформ несовместимы, хотя могут быть в целом подобны.</p>
	            <p class="pic"><img src="Multimedia/assembler.png" align="center" size="800" height="800" title="Листинг программы на языке ассемблера Motorola MC6800 (слева идут адреса и машинные коды в шестнадцатеричной системе, вычисленные и сгенерированные ассемблером из исходного кода программы, справа показан сам текст программы с мнемоническими инструкциями, метками, директивами, выражениями и комментариями)"/></p>
	<p>Язык ассемблера позволяет программисту пользоваться алфавитными мнемоническими кодами операций, по своему усмотрению присваивать символические имена регистрам ЭВМ и памяти, а также задавать удобные для себя схемы адресации (например, индексную или косвенную). Кроме того, он позволяет использовать различные системы счисления (например, десятичную или шестнадцатеричную) для представления числовых констант и даёт возможность помечать строки программы метками с символическими именами с тем, чтобы к ним можно было обращаться (по именам, а не по адресам) из других частей программы (например, для передачи управления).</p>
	<p>Также может предоставлять дополнительные возможности облегчения программирования, такие как макрокоманды, выражения, средства обеспечения модульности программ. В связи с этим может рассматриваться как автокод (см. ниже), расширенный конструкциями языков программирования высокого уровня</p>
	<p>Перевод программы на языке ассемблера в исполнимый машинный код (вычисление выражений, раскрытие макрокоманд, замена мнемоник собственно машинными кодами и символьных адресов на абсолютные или относительные адреса) производится ассемблером — программой-транслятором, которая и дала языку ассемблера его название.</p>
	<p>В разговорном русском языке может именоваться просто «ассемблером» (типичны выражения типа «писать программу на ассемблере»), что, строго говоря, неверно, так как ассемблером именуется утилита трансляции программы с языка ассемблера в машинный код процессора. Вместо фразы «программа на ассемблере» корректнее говорить «программа на языке ассемблера».</p>
	<p>Использование термина «язык ассемблера» может вызвать ошибочное мнение о существовании некоего единого языка низкого уровня или хотя бы стандарта на такой язык. Поскольку синтаксис программы на языке ассемблера зависит главным образом от используемой архитектуры, единого языка ассемблера не существует. При использовании термина «язык ассемблера», если не очевидно из контекста, желательно уточнять, ассемблер для какой архитектуры имеется в виду.</p>
		<h1>Синтаксис языка</h1>
	<p>Синтаксис программы на языке ассемблера определяется главным образом системой команд конкретного процессора и системой директив конкретного транслятора.</p>
	<p>Для некоторых платформ может существовать несколько видов синтаксиса языка ассемблера, не совместимых между собой. Например, наиболее популярные синтаксисы языков ассемблера для Intel-совместимых процессоров — Intel-синтаксис и AT&T-синтаксис.</p>
		<h2>Метки</h2>
	<p>Язык ассемблера позволяет использовать символические метки вместо адресов ячеек памяти, которые при ассемблировании заменяются на вычисляемые ассемблером или компоновщиком абсолютные или относительные адреса.</p>
	<p>В большинстве случаев имя метки в тексте программы записывают, начиная с первой позиции текстовой строки, и отделяют от остального текста двоеточием:</p>
	<p class="brd">Label1:</p>
	<p>На объявленную затем метку может быть выполнен переход из другого места программы, расположенного как выше, так и ниже по тексту.</p>
		<h2>Запись числовых констант</h2>
	<p>Трансляторы с языка ассемблера позволяют использовать числовые константы в различных системах счисления, поэтому для каждой используемой в тексте программы числовой константы должно быть указано, в какой системе счисления она записана. Способы указания систем счисления зависят от конкретного транслятора и могут существенно отличаться от одного транслятора к другому. Например:</p>
			<li>Для записи числа в десятичной системе счисления в одних трансляторах требуется представление только в виде цифр (255, 65535), тогда как в других для этого требуется начать число с точки (.255, .65535).</li>
			<li>Для записи числа в шестнадцатеричной системе требуется начать число с префикса «0x» (0xFF, 0x2000), в других — добавить в конце числа «h» (0FFh, 2000h), в третьих — записывать только цифры (0FF, 2000), при этом в последних двух случаях у чисел, начинающиеся с A…F, для отличия их от символьных имён спереди добавляют ноль.</li>
			<li>Признаком восьмеричной системы в некоторых трансляторах является ведущий ноль (0377, 0177777), в других требуется добавить префикс в виде буквы «O», а число заключить в апострофы (O’377’, O’177777’).</li>
			<li>Для записи констант в двоичной системе распространённым является формат вида b'10010111'.</li>
	<p>Соответственно, запись числа без явного указания системы счисления разными трансляторами будет воспринята по-разному. Например, 057 в зависимости от транслятора может быть прочитано как восьмеричная запись числа 47, десятичная запись числа 57 или шестнадцатеричная запись числа 87. В некоторых трансляторах система счисления, используемая по умолчанию, может быть определена с помощью директив.</p>
		<h2>Инструкции процессора</h2>
	<p>Команды языка ассемблера один к одному соответствуют командам процессора. Фактически, они и представляют собой более удобную для человека символьную форму записи — мнемокоды — команд и их аргументов. При этом одной команде языка ассемблера может соответствовать несколько вариантов команд процессора</p>
	<p>Каждая модель (или семейство) процессоров имеет свой набор команд (систему команд) и соответствующий ей язык ассемблера. Используемые мнемоники обычно одинаковы для всех процессоров одной архитектуры или семейства архитектур (среди широко известных — мнемоники процессоров и контроллеров x86, ARM, PIC, SPARC, PowerPC, M68k и другие). Возможные исключения из этого правила:</p>
			<li>Если ассемблер использует кроссплатформенный AT&T-синтаксис (оригинальные мнемоники приводятся к синтаксису AT&T). Так, различия между синтаксисом Intel и AT&T касаются в основном порядка перечисления операндов и указания различных методов адресации.</li>
			<li>Если изначально существовало два стандарта записи мнемоник (система команд была унаследована от процессора другого производителя). Например, процессор Zilog Z80 унаследовал систему команд Intel 8080, расширил её и поменял мнемоники (и обозначения регистров) на свой лад. Процессоры Motorola Fireball унаследовали систему команд Z80, несколько её сократив. Вместе с тем, Motorola официально вернулась к мнемоникам Intel и в данный момент половина ассемблеров для Fireball работает с мнемониками от Intel, а половина — с мнемониками от Zilog.</li>
	<p>Типичными командами языка ассемблера являются (большинство примеров даны для Intel-синтаксиса архитектуры x86):</p>
			<li>Команды пересылки данных (mov и др.)</li>
			<li>Арифметические команды (add, sub, imul и др.)</li>
			<li>Логические и побитовые операции (or, and, xor, shr и др.)</li>
			<li>Команды управления ходом выполнения программы (jmp, loop, ret и др.)</li>
			<li>Команды вызова прерываний (иногда относят к командам управления): int</li>
			<li>Команды ввода-вывода в порты (in, out)</li>
			<li>Для микроконтроллеров и микрокомпьютеров характерны также команды, выполняющие проверку и переход по условию, например некоторые из них:</li>
		<ul>
			<li>cjne — перейти, если не равно</li>
			<li>djnz — декрементировать, и если результат ненулевой, то перейти</li>
			<li>cfsneq — сравнить, и если не равно, пропустить следующую команду</li>
		</ul>
	<p>Наборы мнемоник конкретных процессоров описаны в спецификациях этих процессоров, часто известных как «Datasheet».</p>
	<p>Типичный формат записи команд:</p>
	<p class="brd">[метка:] [ [префикс] мнемокод [операнд {, операнд}] ] [;комментарий]</p>
	<p>В указанном формате строки:</p>
			<li>Метка — символьное имя, обозначающее адрес в памяти программ, по которому расположена данная инструкция. Если в строке с меткой не содержится мнемокод, метка обычно будет относиться к следующему мнемокоду, расположенному ниже по тексту программы.</li>
			<li>Мнемокод — непосредственно мнемоника инструкции процессору. Большинство трансляторов предусматривает размещение в одной строке мнемокода только одной инструкции процессора.</li>
			<li>К мнемокоду могут быть добавлены префиксы (повторения, изменения типа адресации и пр.). Возможные префиксы, также как и набор мнемоник, определяются архитектурой процессора. Некоторые процессоры не поддерживают префиксы.</li>
			<li>В качестве операндов могут выступать константы, адреса регистров, адреса в оперативной памяти и пр. Набор операндов, которые можно передать той или иной мнемонике, также определяется архитектурой процессора.</li>
			<li>Комментарий — произвольный текст, не выполняемый транслятором и служащий для пояснений выполняемых действий программистам. Допускается, что в строке не присутствует ничего кроме комментария.</li>
	<P>Пример кодирования инструкций на языке ассемблера для архитектуры PIC16:</P>
		            <p class="pic"><img src="Multimedia/kod.JPG" align="center" size="125" height="125" class="minimized" /></p>
		<h1>TASM</h1>
	<p>Turbo Assembler (TASM) — программный пакет компании Borland, предназначенный для разработки программ на языке ассемблера для архитектуры x86. Кроме того, TASM может работать совместно с трансляторами с языков высокого уровня фирмы Borland, такими как Turbo C и Turbo Pascal. Как и прочие программные пакеты серии Turbo, TASM больше не поддерживается.</p>
	<p>Пакет TASM поставляется вместе с компоновщиком Turbo Linker и создаёт объектный .obj-файл, который компоновщик переводит в исполнимый файл. Полученные исполнимые файлы можно отлаживать с помощью Turbo Debugger.</p>
	<p>По умолчанию TASM работает в режиме совместимости с другим распространённым ассемблером — Microsoft Macro Assembler, то есть TASM умеет транслировать исходники, разработанные под MASM. Кроме того, TASM имеет режим IDEAL, улучшающий синтаксис языка и расширяющий его функциональные возможности.</p>
	<p>Последнее развитие компилятор получил благодаря современной среде разработки TASM Visual. С её помощью работа с компилятором многократно упрощается.</p>
	<p>Пример программы для MS-DOS на TASM</p>
		            <p class="pic"><img src="Multimedia/TASM.JPG" align="center" size="325" height="325" class="minimized" /></p>
	<p>Пример программы для MS-DOS на TASM (тот же пример в режиме IDEAL)</p>
	 				<p class="pic"><img src="Multimedia/TASM2.JPG" align="center" size="325" height="325" class="minimized" /></p>
	<p>Еще пример программы для MS-DOS на TASM (с описанием)</p>
					<p class="pic"><img src="Multimedia/TASM3.JPG" align="center" size="325" height="325" class="minimized" /></p>
		<h1>SASM</h1>
	<p>SASM (SimpleASM) — бесплатная простая кроссплатформенная Open Source среда разработки программного обеспечения на языках ассемблера NASM, MASM, GAS, FASM с подсветкой синтаксиса и отладчиком.</p>
	<p>SASM позволяет легко разрабатывать и выполнять программы, написанные на языке ассемблера. Программа работает «из коробки» и хорошо подходит для начинающих изучать язык ассемблера.</p>
	<p>Основана на Qt. Распространяется по свободной лицензии GNU GPL v3.0.</p>
	<p>Создана программистом Дмитрием Манушиным (Dman95)</p>
	<p>Возможности</p>
			<li>Поддержка 4 ассемблеров — NASM, MASM, GAS, FASM</li>
			<li>Подсветка синтаксиса с настройкой цветовой схемы</li>
			<li>Удобный графический отладчик программ</li>
			<li>Интерфейс программы на русском и английском языке</li>
			<li>Библиотека макросов ввода-вывода</li>
			<li>Возможность работы с несколькими файлами с использованием вкладок</li>
			<li>Большинство компонентов (за исключением masm), необходимых для работы (gdb, gcc, nasm, fasm, gas), уже включены в программу</li>
		<h1>NASM</h1>
	<p>NASM (Netwide Assembler) — свободный (LGPL и лицензия BSD) ассемблер для архитектуры Intel x86. Используется для написания 16-, 32- и 64-разрядных программ.</p>
	<h2>Синтаксис языка</h2>
	<p>В NASM используется Intel-синтаксис записи инструкций. Предложение языка ассемблера NASM (строка программы) может состоять из следующих элементов:</p>
	<p class="brd">Метка Инструкция Операнды Комментарий</p>
	<p>Операнды отделяются между собой запятой. Перед строкой и после инструкции можно использовать любое количество пробельных символов. Комментарий начинается с точки с запятой, а концом комментария считается конец строки. В качестве инструкции может использоваться команда или псевдокоманда (директива компилятора). Если строка очень длинная, то её можно перенести на следующую, используя обратный слеш \, подобно тому, как это делается в языке Си.</p>
		<h2>Компиляция и компоновка</h2>
	<p>NASM компилирует программы под различные операционные системы в пределах x86-совместимых процессоров. Находясь в одной операционной системе, можно беспрепятственно откомпилировать исполняемый файл для другой.</p>
	<p>Компиляция программ в NASM состоит из двух этапов. Первый — ассемблирование, второй — компоновка. На этапе ассемблирования создаётся объектный код. В нём содержится машинный код программы и данные, в соответствии с исходным кодом, но идентификаторы (переменные, символы) пока не привязаны к адресам памяти. На этапе компоновки из одного или нескольких объектных модулей создаётся исполняемый файл (программа). Операция компоновки связывает идентификаторы, определённые в основной программе, с идентификаторами, определёнными в остальных модулях, после чего всем идентификаторам даются окончательные адреса памяти или обеспечивается их динамическое выделение.</p>
	<p>Для компоновки объектных файлов в исполняемые в Windows можно использовать свободный бесплатно распространяемый компоновщик alink(для 64-битных программ компоновщик GoLink), а в Linux — компоновщик ld, который есть в любой версии этой операционной системы.</p>
	<p>Для ассемблирования файла нужно ввести следующую команду:</p>
	<p class="brd">nasm -f format filename -o output</p>
		<h2>Инструкции перехода</h2>
	<p>Компилятор обрабатывает текст программы в несколько проходов, благодаря чему можно инструкции перехода размещать до объявления соответствующих меток.</p>
	<p>В командах условного и безусловного (jmp) переходов используется по умолчанию ближний тип переходов — near. Поэтому при возможности короткого перехода, чтобы не завысить размер программы на лишний байт, необходимо специально указать тип перехода short. С версии 0.98.09b были добавлены опции оптимизации -Ox, которые позволяют автоматически оптимизировать размер инструкций перехода, в более ранних версиях или без таких опций минимальный размер программы можно получить только ручной модификацией исходного кода.</p>
		<h2>Формат выходных файлов</h2>
	<p>NASM поддерживает множество форматов выходных файлов, среди них:</p>
			<li>bin — файл произвольного формата, определяемого только исходным кодом. Пригоден как для файлов данных, так и для модулей с исполняемыми кодами — например, системных загрузчиков, образов ПЗУ, модулей операционных систем, драйверов .SYS в MS-DOS или исполняемых файлов .COM.</li>
			<li>obj — объектный модуль в формате OMF, совместимый с MASM и TASM.</li>
			<li>win32 и win64 — объектный модуль для 32- и 64-битного кода, совместимый с Win32- и Win64-компиляторами Microsoft.</li>
			<li>aout — объектный модуль в варианте формата a.out, использовавшемся в ранних Linux-системах.</li>
			<li>aoutb — версия формата a.out для BSD-совместимых операционных систем.</li>
			<li>coff — объектный модуль в формате COFF, совместимом с компоновщиком из DJGPP.</li>
			<li>elf32 и elf64 — объектный модуль в форматах ELF32 и ELF64, используемых в Linux и Unix System V, включая Solaris x86, UnixWare и SCO Unix.</li>
	<P>Формат выходного файла можно задать с помощью ключа командной строки -f. Форматы могут расширять синтаксис некоторых инструкций и добавлять собственные инструкции.</P>
		<h1>Примеры программы «Hello, world!» под разные ОС</h1>
	<p>Под операционную систему Linux</p>
					<p class="pic"><img src="Multimedia/NASM.JPG" align="center" size="325" height="325" class="minimized" /></p>
	<p>Под операционную систему Linux (x64)</p>
					<p class="pic"><img src="Multimedia/NASM2.JPG" align="center" size="325" height="325" class="minimized" /></p>
	<p>Под операционную систему DOS</p>
					<p class="pic"><img src="Multimedia/NASM3.JPG" align="center" size="325" height="200"  class="minimized" /></p>
	<p>Под операционную систему Windows (obj)</p>
					<p class="pic"><img src="Multimedia/NASM4.JPG" align="center" size="325" height="325" class="minimized" /></p>
	<p>Под операционную систему Windows x64 (obj)</p>
													  <p class="pic"><img src="Multimedia/NASM5.JPG" align="center" size="325" height="225"  class="minimized" alt="клик для увеличения" /></p>
	<p>Под операционную систему FreeBSD</p>
					<p class="pic"><img src="Multimedia/NASM6.JPG" align="center" size="325" height="325" class="minimized" /></p>
	<p>Под операционную систему KolibriOS</p>
					<p class="pic"><img src="Multimedia/NASM7.JPG" align="center" size="325" height="325" class="minimized" /></p>
		<h1>MASM</h1>
	<p>MASM (Microsoft Macro Assembler) — ассемблер для процессоров семейства x86. Первоначально был произведён компанией Microsoft для написания программ в операционной системе MS-DOS и был в течение некоторого времени самым популярным ассемблером, доступным для неё. MASM поддерживал широкое разнообразие макросредств и структурированность программных идиом, включая конструкции высокого уровня для повторов, вызовов процедур и чередований (поэтому MASM — ассемблер высокого уровня). Позднее была добавлена возможность написания программ для Windows. MASM — один из немногих инструментов разработки Microsoft, для которых не было отдельных 16- и 32-битных версий.</p>
	<p>Программа Hello World на MASM32, которая выводит это сообщение и завершается.</p>
					<p class="pic"><img src="Multimedia/MASM.JPG" align="center" size="325" height="325" class="minimized" /></p>
	<p>Пример той же программы на языке MASM версии 4.0 для процессора Intel 8086.</p>
					<p class="pic"><img src="Multimedia/MASM2.JPG" align="center" size="325" height="325" class="minimized" /></p>
	<p>Пример той же программы для MS-DOS на языке MASM версии 6.1 для процессора Intel 8086.</p>
					<p class="pic"><img src="Multimedia/MASM3.JPG" align="center" size="325" height="325" class="minimized" /></p>
		<h2>Версии MASM</h2>
	<p>Хотя MASM больше не является коммерческим продуктом, Microsoft продолжает поддерживать исходный код, используемый и в других продуктах Microsoft. С тех пор как Microsoft прекратила продавать MASM отдельно, было выпущено несколько обновлений к производственной линии MASM 6.x (последнее обновление — версия 6.15, которая была включена в Visual C++ 6.0), а после этого — MASM 7.0 в составе Visual C++ .NET 2002, MASM 7.1 в составе Visual C++ .NET 2003, MASM 8.0 в составе Visual C++ 2005 и MASM 9.0 в составе Visual C++ 2008, поддерживающие платформу x64. С версии 11 MASM снова выходит как независимый продукт, имеется 2 среды разработки обычный (qedit) и для юникода (uniedit).</p>
		<h1></h1>
	</div>
	<a href="#" class="scrollup">Наверх</a>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="script.js"></script>
<script src="zoom.js"></script>
</body>
</html>